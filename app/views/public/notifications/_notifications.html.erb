<% visitor = notification.visitor %>
<% visited = notification.visited %>

<div class="container w-50 notifications-page mt-2">
  <div class="list-group">
    <div class="list-group-item d-flex align-items-center">
      <%= image_tag visitor.get_profile_image(40, 40), class: "rounded-circle me-2" %>
      <div class="flex-grow-1">
        <strong class="text-success"><%= visitor.name %></strong> さんが

        <% if notification.action == 'follow' %>
          あなたをフォローしました。

        <% elsif notification.action == 'comment' %>
          <% if notification.post.member_id == visited.id %>
            <%= link_to 'あなたの投稿', notification.post, class: "fw-bold text-success text-decoration-none" %>
          <% end %>
          にコメントしました。
          <p class="text-muted mb-0">
            <%= notification.comment&.comment_body %>
          </p>
        <% end %>
      </div>
    </div>
  </div>

  <div class="small text-muted text-end text-right d-flex justify-content-end">
    <%= time_ago_in_words(notification.created_at).upcase %>
  </div>
  <hr>
</div>